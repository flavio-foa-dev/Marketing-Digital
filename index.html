<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
        }

        .game-container {
            border: 2px solid #333;
            width: 300px;
            height: 600px;
            overflow: hidden;
            position: relative;
        }

        .tetris-grid {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            height: 100%;
        }

        .tetromino {
            background-color: #4CAF50;
            border: 1px solid #333;
            width: 30px;
            height: 30px;
            position: absolute;
        }
    </style>
    <title>Tetris</title>
</head>
<body>
    <div class="game-container">
        <div class="tetris-grid" id="grid"></div>
    </div>
    <button onclick="startGame()">Jogar</button>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const grid = document.getElementById('grid');
            let squares = Array.from(document.querySelectorAll('.tetris-grid div'));

            // Tetris pieces
            const tetrominoes = [
                [1, 11, 21, 22], // L
                [2, 11, 20, 21], // J
                [0, 1, 10, 11],  // O
                [1, 10, 11, 12], // I
                [1, 10, 11, 12], // T
            ];

            let currentPosition = 4;
            let currentRotation = 0;
            let currentTetromino = 0;

            // Draw the Tetromino
            function draw() {
                tetrominoes[currentTetromino].forEach(index => {
                    squares[currentPosition + index].classList.add('tetromino');
                });
            }

            // Clear the Tetromino
            function undraw() {
                tetrominoes[currentTetromino].forEach(index => {
                    squares[currentPosition + index].classList.remove('tetromino');
                });
            }

            function startGame() {
                draw();
                setInterval(moveDown, 1000);
            }

            function moveDown() {
                undraw();
                currentPosition += 10;
                draw();
            }

            document.addEventListener('keydown', control);

            function control(e) {
                if (e.keyCode === 37) {
                    moveLeft();
                } else if (e.keyCode === 39) {
                    moveRight();
                } else if (e.keyCode === 40) {
                    moveDown();
                }
            }

            function moveLeft() {
                undraw();
                const isAtLeftEdge = tetrominoes[currentTetromino].some(index => (currentPosition + index) % 10 === 0);
                if (!isAtLeftEdge) currentPosition -= 1;
                draw();
            }

            function moveRight() {
                undraw();
                const isAtRightEdge = tetrominoes[currentTetromino].some(index => (currentPosition + index) % 10 === 9);
                if (!isAtRightEdge) currentPosition += 1;
                draw();
            }
        });
    </script>
</body>
</html>
